<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rockford City Police CAD</title>

<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js"></script>

<style>
body { margin:0; font-family:Arial; background:#0f1720; }

/* LOGIN PAGE */
#loginPage {
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:#0f1720;
}

#loginBox {
  background:#1f2a38;
  padding:40px;
  width:350px;
  border-radius:10px;
  text-align:center;
  color:white;
}

.badge {
  width:80px;
  height:80px;
  margin:0 auto 20px auto;
  background:gold;
  clip-path: polygon(50% 0%, 90% 20%, 100% 60%, 50% 100%, 0% 60%, 10% 20%);
  display:flex;
  justify-content:center;
  align-items:center;
  font-weight:bold;
  color:black;
  font-size:12px;
  text-align:center;
}

#loginBox input {
  width:100%;
  padding:10px;
  margin:10px 0;
  border:none;
  border-radius:5px;
}

#loginBox button {
  width:100%;
  padding:10px;
  background:#1abc9c;
  border:none;
  color:white;
  border-radius:5px;
  cursor:pointer;
}

/* MAIN CAD */
#cadSystem { display:none; height:100vh; display:flex; }

#sidebar {
  width:260px;
  background:#1f2a38;
  color:white;
  padding:15px;
}

#sidebar h2 { margin-top:0; }

#sidebar button {
  width:100%;
  margin:5px 0;
  padding:10px;
  border:none;
  background:#2c3e50;
  color:white;
  cursor:pointer;
  border-radius:4px;
}

#main { flex:1; display:flex; flex-direction:column; }

.section { flex:1; overflow:auto; padding:10px; display:none; }
.section.active { display:block; }

table { width:100%; border-collapse:collapse; }
th, td { border:1px solid #ccc; padding:6px; background:white; }

/* CHAT */
#chatContainer {
  height:40%;
  display:flex;
  flex-direction:column;
  border-top:2px solid #ccc;
}

#messages {
  flex:1;
  overflow-y:auto;
  padding:10px;
  background:#f4f4f4;
}

#chatInputArea { display:flex; }
#chatInput { flex:1; padding:10px; border:none; }
#sendBtn { padding:10px 20px; border:none; background:#1abc9c; color:white; }

</style>
</head>
<body>

<!-- LOGIN -->
<div id="loginPage">
  <div id="loginBox">
    <div class="badge">ROCKFORD<br>POLICE</div>
    <h2>Rockford City CAD</h2>
    <input id="loginUser" placeholder="Username">
    <input id="loginPass" type="password" placeholder="Password">
    <button onclick="login()">Login</button>
  </div>
</div>

<!-- CAD SYSTEM -->
<div id="cadSystem">
  <div id="sidebar">
    <h2>Rockford City</h2>
    <button onclick="showSection('calls')">Calls</button>
    <button onclick="showSection('units')">Units</button>
    <button onclick="showSection('bolos')">BOLOs</button>
    <button onclick="showSection('warrants')">Warrants</button>
    <button onclick="showSection('arrests')">Arrests</button>
  </div>

  <div id="main">

    <div id="calls" class="section active">
      <h3>Calls</h3>
      <button onclick="addCall()">Add Call</button>
      <table><thead>
        <tr><th>ID</th><th>Type</th><th>Location</th></tr>
      </thead><tbody id="callsBody"></tbody></table>
    </div>

    <div id="units" class="section">
      <h3>Units</h3>
      <button onclick="addUnit()">Add Unit</button>
      <table><thead>
        <tr><th>ID</th><th>Name</th><th>Status</th></tr>
      </thead><tbody id="unitsBody"></tbody></table>
    </div>

    <div id="bolos" class="section">
      <h3>BOLOs</h3>
      <button onclick="addBolo()">Add BOLO</button>
      <table><thead>
        <tr><th>ID</th><th>Description</th></tr>
      </thead><tbody id="bolosBody"></tbody></table>
    </div>

    <div id="warrants" class="section">
      <h3>Warrants</h3>
      <button onclick="addWarrant()">Add Warrant</button>
      <table><thead>
        <tr><th>ID</th><th>Name</th><th>Reason</th></tr>
      </thead><tbody id="warrantsBody"></tbody></table>
    </div>

    <div id="arrests" class="section">
      <h3>Arrests</h3>
      <button onclick="addArrest()">Add Arrest</button>
      <table><thead>
        <tr><th>ID</th><th>Name</th><th>Reason</th></tr>
      </thead><tbody id="arrestsBody"></tbody></table>
    </div>

    <!-- COMMUNITY CHAT -->
    <div id="chatContainer">
      <div id="messages"></div>
      <div id="chatInputArea">
        <input id="chatInput" placeholder="Message...">
        <button id="sendBtn">Send</button>
      </div>
    </div>

  </div>
</div>

<script type="module">

/* LOGIN */
window.login = function(){
  document.getElementById("loginPage").style.display="none";
  document.getElementById("cadSystem").style.display="flex";
}

/* SECTIONS */
window.showSection = function(id){
  document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

/* DATA */
let calls=[], units=[], bolos=[], warrants=[], arrests=[];

/* CALLS */
window.addCall=function(){
  const type=prompt("Call Type:");
  const loc=prompt("Location:");
  if(!type||!loc)return;
  calls.push({id:Date.now(),type,loc});
  renderCalls();
}
function renderCalls(){
  callsBody.innerHTML="";
  calls.forEach(c=>{
    callsBody.innerHTML+=`<tr><td>${c.id}</td><td>${c.type}</td><td>${c.loc}</td></tr>`;
  });
}

/* UNITS */
window.addUnit=function(){
  const name=prompt("Unit Name:");
  if(!name)return;
  units.push({id:Date.now(),name,status:"Available"});
  renderUnits();
}
function renderUnits(){
  unitsBody.innerHTML="";
  units.forEach(u=>{
    unitsBody.innerHTML+=`<tr><td>${u.id}</td><td>${u.name}</td><td>${u.status}</td></tr>`;
  });
}

/* BOLOS */
window.addBolo=function(){
  const d=prompt("Description:");
  if(!d)return;
  bolos.push({id:Date.now(),d});
  renderBolos();
}
function renderBolos(){
  bolosBody.innerHTML="";
  bolos.forEach(b=>{
    bolosBody.innerHTML+=`<tr><td>${b.id}</td><td>${b.d}</td></tr>`;
  });
}

/* WARRANTS */
window.addWarrant=function(){
  const name=prompt("Name:");
  const reason=prompt("Reason:");
  if(!name||!reason)return;
  warrants.push({id:Date.now(),name,reason});
  renderWarrants();
}
function renderWarrants(){
  warrantsBody.innerHTML="";
  warrants.forEach(w=>{
    warrantsBody.innerHTML+=`<tr><td>${w.id}</td><td>${w.name}</td><td>${w.reason}</td></tr>`;
  });
}

/* ARRESTS */
window.addArrest=function(){
  const name=prompt("Name:");
  const reason=prompt("Reason:");
  if(!name||!reason)return;
  arrests.push({id:Date.now(),name,reason});
  renderArrests();
}
function renderArrests(){
  arrestsBody.innerHTML="";
  arrests.forEach(a=>{
    arrestsBody.innerHTML+=`<tr><td>${a.id}</td><td>${a.name}</td><td>${a.reason}</td></tr>`;
  });
}

</script>
</body>
</html>
